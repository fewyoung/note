{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}在线笔记{% endblock %}


{% block page_content %}

<!--
<div class="page-header">

</div>
-->

<div class="container">	
	<table class="table table-hover" style="max-width:300px">
		<thead>
			<tr>
				<th colspan=2>
					<button class="btn btn-xs btn-link" data-toggle="modal" data-target="#add" title="新分类">
						<span class="glyphicon glyphicon-plus">&nbsp;新分类</span>
					</button>
					<div class="modal fade" id="add" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel_add" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="myModalLabel_add">
										<span class="glyphicon glyphicon-plus"></span>
										&nbsp;新分类</h4>
								</div>
								<div class="modal-body">{{ wtf.quick_form(add_form,
									button_map={'add_submit':'primary btn-block'}) }}
								</div>
								<div class="modal-footer">
								</div>
							</div>
						</div>
					</div>						
				</th>
			</tr>
		</thead>
		<tbody>
		{% for classify_form in classify_forms %}
			<tr class="active">											
				<td>					
					<a id="classify" style="cursor:pointer;text-decoration:none;" value="{{ classify_form.classify_id.data }}">
						{{ classify_form.classify_submit.label.text }}
					</a>					
				</td>										
				<td>																
					<a id="del" style="cursor:pointer;" value="{{ classify_form.classify_id.data }}"">
						<span class="glyphicon glyphicon-trash"></span>
					</a>						
				</td>				
			</tr>		
		{% endfor %}
		</tbody>
	</table>							
</div>
{% endblock %}


{% block scripts %}
{{ super() }}

<script>
$(document).ready(function(){
	     
  $("a#del").click(function(){
	  var del_conf = confirm("分类名：\n"+$(this).val()+"\n\n确认删除？");
	  if (del_conf){
		  $.post("/note/del",function(data,status){
			  alert(data);
			  });		  
		  };							  
	  });
  
});
</script>

{% endblock %}



